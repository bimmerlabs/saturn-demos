// metalflk.h
#ifndef METALFLK_H
#define METALFLK_H
#include "palette_config.h"

RgbPalette rgbPal = {
    { {57, 43, 161}, {39, 144, 193}, {48, 86, 188}, {56, 202, 165}, {171, 83, 191}, {147, 142, 201}, {135, 122, 184}, {34, 116, 191}, 
      {149, 143, 215}, {68, 140, 226}, {82, 42, 206}, {156, 174, 215}, {74, 173, 219}, {154, 45, 206}, {137, 84, 232}, {151, 115, 232}, 
      {154, 145, 240}, {70, 114, 228}, {76, 86, 220}, {188, 115, 226}, {94, 114, 231}, {73, 160, 224}, {178, 86, 224}, {70, 100, 223}, 
      {83, 62, 203}, {140, 159, 239}, {152, 129, 230}, {92, 129, 231}, {141, 174, 239}, {154, 101, 231}, {82, 63, 230}, {76, 197, 199}, 
      {167, 62, 207}, {94, 174, 227}, {85, 144, 240}, {225, 39, 137}, {105, 58, 207}, {147, 65, 230}, {187, 171, 214}, {94, 100, 231}, 
      {176, 143, 238}, {111, 172, 239}, {83, 158, 239}, {38, 170, 180}, {112, 87, 242}, {199, 142, 214}, {131, 112, 252}, {188, 64, 203}, 
      {93, 115, 245}, {188, 130, 228}, {159, 198, 209}, {128, 128, 255}, {134, 98, 247}, {140, 139, 252}, {135, 86, 242}, {91, 129, 245}, 
      {113, 139, 251}, {95, 102, 243}, {155, 114, 248}, {156, 125, 249}, {174, 160, 236}, {164, 187, 216}, {73, 73, 206}, {93, 185, 221}, 
      {167, 176, 182}, {116, 126, 253}, {114, 112, 251}, {85, 84, 182}, {139, 159, 248}, {85, 171, 177}, {96, 82, 229}, {56, 57, 168}, 
      {175, 72, 208}, {135, 183, 236}, {192, 159, 215}, {111, 147, 248}, {142, 148, 250}, {175, 56, 190}, {201, 83, 194}, {157, 101, 244}, 
      {210, 201, 159}, {68, 128, 228}, {182, 101, 228}, {36, 105, 184}, {179, 179, 183}, {108, 160, 242}, {114, 101, 247}, {97, 160, 228}, 
      {83, 53, 192}, {61, 173, 204}, {206, 99, 198}, {130, 120, 253}, {201, 175, 191}, {163, 169, 235}, {153, 88, 240}, {108, 72, 206}, 
      {115, 157, 250}, {176, 115, 239}, {152, 185, 226}, {85, 73, 218}, {54, 70, 176}, {96, 91, 229}, {161, 229, 199}, {148, 197, 225}, 
      {100, 200, 227}, {80, 114, 209}, {120, 62, 230}, {198, 58, 173}, {116, 119, 252}, {94, 145, 228}, {130, 132, 254}, {175, 129, 241}, 
      {117, 133, 253}, {137, 169, 247}, {158, 231, 169}, {66, 188, 199}, {203, 68, 177}, {160, 85, 230}, {190, 186, 196}, {113, 183, 238}, 
      {117, 188, 227}, {133, 105, 250}, {38, 130, 192}, {156, 133, 249}, {177, 185, 213}, {157, 160, 239}, {189, 84, 211}, {154, 64, 218}, 
      {51, 222, 151}, {130, 30, 183}, {162, 204, 188}, {111, 25, 175}, {114, 144, 187}, {202, 110, 200}, {129, 216, 202}, {209, 143, 199}, 
      {62, 198, 181}, {75, 219, 177}, {112, 38, 202}, {192, 201, 175}, {141, 229, 187}, {183, 35, 177}, {41, 161, 183}, {73, 99, 177}, 
      {146, 39, 226}, {164, 98, 191}, {61, 33, 179}, {141, 117, 208}, {186, 197, 199}, {86, 189, 188}, {87, 127, 193}, {119, 51, 225}, 
      {86, 160, 207}, {72, 183, 216}, {172, 189, 205}, {115, 206, 202}, {102, 42, 191}, {72, 198, 188}, {213, 133, 196}, {186, 216, 173}, 
      {75, 83, 210}, {203, 157, 202}, {134, 41, 190}, {56, 100, 206}, {87, 69, 189}, {156, 160, 216}, {164, 162, 199}, {158, 217, 183}, 
      {58, 189, 181}, {56, 162, 204}, {120, 210, 231}, {177, 251, 161}, {217, 209, 146}, {51, 129, 206}, {68, 57, 185}, {61, 86, 205}, 
      {53, 117, 209}, {134, 86, 210}, {148, 74, 231}, {75, 103, 239}, {139, 132, 207}, {201, 190, 179}, {190, 45, 175}, {86, 175, 209}, 
      {100, 128, 211}, {117, 50, 206}, {175, 200, 227}, {120, 73, 232}, {181, 53, 203}, {154, 210, 204}, {73, 114, 242}, {188, 74, 204}, 
      {144, 53, 226}, {80, 186, 207}, {72, 171, 234}, {172, 104, 239}, {68, 45, 182}, {175, 91, 244}, {93, 75, 229}, {64, 69, 188}, 
      {195, 69, 189}, {169, 66, 192}, {160, 99, 213}, {87, 98, 210}, {158, 174, 202}, {54, 211, 157}, {178, 229, 179}, {187, 58, 186}, 
      {53, 145, 206}, {119, 197, 227}, {59, 209, 177}, {82, 197, 214}, {197, 102, 212}, {202, 132, 210}, {76, 130, 239}, {118, 200, 215}, 
      {102, 142, 204}, {106, 211, 191}, {184, 200, 189}, {84, 51, 203}, {109, 219, 188}, {201, 44, 162}, {147, 209, 224}, {108, 30, 187}, 
      {127, 53, 175}, {145, 74, 247}, {159, 146, 228}, {87, 62, 217}, {120, 61, 219}, {188, 143, 227}, {105, 71, 222}, {188, 225, 161}, 
      {182, 213, 187}, {106, 86, 209}, {203, 209, 195}, {57, 173, 185}, {163, 72, 220}, {181, 46, 188}, {107, 116, 211}, {128, 226, 211}, 
      {172, 141, 248}, {166, 87, 214}, {156, 53, 208}, {166, 184, 236}, {161, 174, 228}, {176, 173, 224}, {184, 158, 225}, {199, 113, 213}, 
      {156, 159, 227}, {193, 215, 162}, {212, 177, 178}, {69, 147, 227}, {46, 114, 196}, {116, 157, 194}, {195, 172, 203} }
};

HslPalette hslPal = {
    { {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, 
      {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0} }
};

PaletteGroupCollection p_collection = {
    {
        { 0,  0,  NUM_PALETTE_ENTRIES },
    }
};

const Bool normal_map_mode = true; // false = HSL background, true = Normal mapping

ImageConfig image = {
    222, 127, 0, 0, toFIXED(0.0), toFIXED(0.0), toFIXED(0.0)
};

static jo_palette bg_palette;

jo_palette	*my_bg_palette_handling(void)
{
    jo_create_palette(&bg_palette);
    return (&bg_palette);
}

void init_background(void) {
    jo_img_8bits    img;
    jo_set_tga_palette_handling(my_bg_palette_handling);
    img.data = JO_NULL;
    jo_tga_8bits_loader(&img, "TEX", "METALFLK.TGA", 0);
    jo_vdp2_set_nbg1_8bits_image(&img, bg_palette.id, false);
    jo_free_img(&img);

    slScrPosNbg1(toFIXED(0.0), toFIXED(0.0));
    slZoomNbg1(toFIXED(4.0), toFIXED(4.0));
}

#endif // METALFLK_H
